@page "/ScoutFormFormat/Edit/{id:int}"
@using OnyxScoutApplication.Client.Pages.ScoutFormFormat.Components
@inject HttpClientManager Http
@inject NavigationManager NavigationManager
@attribute [Authorize(Roles = Roles.Admin)]

<h3>Edit</h3>
@if (scoutFormForamt != null)
{
    <ScoutFormFormatComponent ScoutFormFormat="@scoutFormForamt" Type="FormType.Update" OnSubmit="@Update">

    </ScoutFormFormatComponent>
}

@code {

    [Parameter]
    public int id { get; set; }

    private ScoutFormFormatDto scoutFormForamt;

    protected override async Task OnInitializedAsync()
    {
        scoutFormForamt = await Http.GetJson<ScoutFormFormatDto>("ScoutFormFormat/" + id);
    }

    private async Task Update()
    {
        if (await Http.TryPutJson("ScoutFormFormat/" + id, scoutFormForamt))
        {
            NavigationManager.NavigateTo("ScoutFormFormats");
        }
    }

}
